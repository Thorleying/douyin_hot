import{u as S}from"./index-0e66d560.js";import{g as k}from"./getHomeData-12411199.js";import{l as V,r as C,t as D,m as L,_ as E,a as n,o as _,c as f,b as a,w as s,n as I,v as A,F as b,h as F,g as M,d as v,p as x,f as O}from"./index-4944d5d0.js";import{g as P}from"./Banner-e33a6e7a.js";import{g as $}from"./announcement-d0bb3f4d.js";import{O as j}from"./objectComponent-6f782ba9.js";import"./request-571d1387.js";const N={components:{ObjectComponent:j},setup(){const o=V(),{toClipboard:c}=S();let t=C({dataList:[],banner:[],searchValue:"",announcement:{content:"",show:""},loading:!0});const p=e=>{window.location.href=e.href};let h=e=>{c(e),L.success("成功复制，赶紧去分享吧")};const d=async()=>{const{data:e}=await k();console.log(e,"获取数据"),t.dataList=e,t.loading=!1};d(),(()=>navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i))()?o.replace("/home"):o.replace("/504");const r=async()=>{const{data:e}=await P();console.log(e,"输出data"),t.banner=e};r();const m=e=>{console.log("点击触发"),o.push({name:"search",query:{searchVal:e}})},l=async()=>{const{data:e}=await $();console.log(e,"获取所有的公告数据"),e.map(i=>{i.show==="1"&&(t.announcement=i)}),console.log(t.announcement,"输出")};return l(),{...D(t),getLook:p,copy:h,getAllData:d,getBannerData:r,onSearch:m,getData:l}}};const Q=o=>(x("data-v-bb86f079"),o=o(),O(),o),R=["src"],U=Q(()=>v("div",{class:"block"},null,-1));function W(o,c,t,p,h,d){const g=n("van-icon"),r=n("router-link"),m=n("van-nav-bar"),l=n("van-search"),e=n("van-notice-bar"),i=n("van-swipe-item"),w=n("van-swipe"),B=n("object-component"),y=n("a-spin");return _(),f(b,null,[a(m,{title:"抖音热门代码"},{right:s(()=>[a(r,{to:"/announcement"},{default:s(()=>[a(g,{name:"bullhorn-o",size:"18"})]),_:1})]),_:1}),a(l,{modelValue:o.searchValue,"onUpdate:modelValue":c[0]||(c[0]=u=>o.searchValue=u),placeholder:"点击搜索的内容",onSearch:p.onSearch},null,8,["modelValue","onSearch"]),I(a(e,{color:"#1989fa",background:"#ecf9ff",mode:"closeable","left-icon":"volume-o",text:`公告:${o.announcement.content}`},null,8,["text"]),[[A,o.announcement.show==="1"]]),a(w,{style:{width:"90%",height:"160px",margin:"auto"},class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:s(()=>[(_(!0),f(b,null,F(o.banner,u=>(_(),M(i,{key:u.Id},{default:s(()=>[v("img",{src:u.img,alt:"",style:{width:"100%",height:"150px"}},null,8,R)]),_:2},1024))),128))]),_:1}),a(y,{spinning:o.loading},{default:s(()=>[a(B,{dataList:o.dataList},null,8,["dataList"])]),_:1},8,["spinning"]),U],64)}const X=E(N,[["render",W],["__scopeId","data-v-bb86f079"]]);export{X as default};
