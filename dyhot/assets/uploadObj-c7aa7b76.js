import{a as h}from"./request-571d1387.js";import{a as b}from"./operate-7044ec2f.js";import{l as g,r as v,t as y,m as w,_ as F,a as p,o as d,c as _,g as k,b as i,w as B,F as E,i as j,p as C,f as D,d as t}from"./index-4944d5d0.js";import{u as I}from"./index-0e66d560.js";import{g as x}from"./time-b2b908c3.js";I();const N={name:"uploadObj",setup(){const e=g();let a=v({fileData:null,img:"",name:"",href:""});const c=async()=>{const n={name:a.name,href:a.href,img:a.img,time:x()};console.log(n);const{data:s}=await b(n);console.log(s,"输出状态"),s===1&&(w.success("添加成功"),await e.push("/admin-user"))},l=n=>{let s=new FormData;s.append("file",n.file),h({url:"https://thorleying.work/bbq/uploadImg.php",method:"post",data:s}).then(async u=>{console.log(u.data),a.img="https://thorleying.work/bbq/upload/"+n.file.name})};return{...y(a),sub:c,afterRead:l}}};const o=e=>(C("data-v-ea645257"),e=e(),D(),e),O=o(()=>t("h2",null,"上传项目",-1)),R=["src"],A=o(()=>t("br",null,null,-1)),S=o(()=>t("br",null,null,-1)),V=o(()=>t("br",null,null,-1)),q=o(()=>t("br",null,null,-1)),U=o(()=>t("br",null,null,-1)),$=o(()=>t("br",null,null,-1));function T(e,a,c,l,n,s){const u=p("van-uploader"),m=p("a-input"),f=p("a-button");return d(),_(E,null,[O,e.img?(d(),_("img",{key:1,src:e.img,alt:"",style:{width:"200px"}},null,8,R)):(d(),k(u,{key:0,"after-read":l.afterRead},null,8,["after-read"])),A,S,i(m,{type:"text",placeholder:"请输入标题",value:e.name,"onUpdate:value":a[0]||(a[0]=r=>e.name=r)},null,8,["value"]),V,q,i(m,{type:"text",placeholder:"请输入链接",value:e.href,"onUpdate:value":a[1]||(a[1]=r=>e.href=r)},null,8,["value"]),U,$,i(f,{onClick:l.sub,type:"primary"},{default:B(()=>[j("点击提交")]),_:1},8,["onClick"])],64)}const L=F(N,[["render",T],["__scopeId","data-v-ea645257"]]);export{L as default};
